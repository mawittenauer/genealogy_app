<div class="row gx-5">
  <nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="<%= dashboard_path %>">Dashboard</a></li>
      <li class="breadcrumb-item"><a href="<%= family_tree_path(@family_tree) %>"><%= @family_tree.name %></a></li>
      <li class="breadcrumb-item active" aria-current="page"><%= @person.full_name %></li>
    </ol>
  </nav>
  <div class="col-sm">
    <h1><%= @person.full_name %></h1>
    <p><strong>Date of Birth:</strong> <%= @person.date_of_birth %></p>
    <p><strong>Nickname:</strong> <%= @person.nickname %></p>
    <p><strong>Birthplace:</strong> <%= @person.birthplace %></p>
    <p><strong>Bio:</strong> <%= @person.bio %></p>
    <%= link_to 'Edit', edit_family_tree_person_path(@family_tree, @person) %>
    <%= link_to 'Tree', family_tree_person_tree_path(@family_tree, @person) %>
  </div>
  <div class="col-sm">
    <h2>Relationships</h2>
    <% if @relationships.any? %>
      <% @person.relationships_as_person_one.each do |relationship| %>
        <div class="card" style="margin-bottom: 10px;">
          <div class="card-body">
            <h5 class="card-title"><%= relationship.person_two.full_name %></h5>
            <p class="card-text"><%= relationship.person_two.bio %></p>
            <%= link_to "View", family_tree_person_path(@family_tree, relationship.person_two) %>
            <%= link_to 'Delete', relationship_path(relationship), method: :delete, data: { confirm: 'Are you sure you want to delete this relationship?' } %>
          </div>
          <div class="card-footer text-muted">
            <strong>Relationship:</strong> <%= @person.relationship_type_for(relationship) %>
          </div>
        </div>
      <% end %>
      <% @person.relationships_as_person_two.each do |relationship| %>
        <div class="card" style="margin-bottom: 10px;">
          <div class="card-body">
            <h5 class="card-title"><%= relationship.person_one.full_name %></h5>
            <p class="card-text"><%= relationship.person_one.bio %></p>
            <%= link_to "View", family_tree_person_path(@family_tree, relationship.person_one) %>
            <%= link_to 'Delete', relationship_path(relationship), method: :delete, data: { confirm: 'Are you sure you want to delete this relationship?' } %>
          </div>
          <div class="card-footer text-muted">
            <strong>Relationship:</strong> <%= @person.relationship_type_for(relationship) %>
          </div>
        </div>
      <% end %>
    <% else %>
      <p>This person has no recorded relationships.</p>
    <% end %>
  </div>
</div>
